---
title: Auth Rules
description: Declarative authorization for Supabase
---

Auth Rules is a SQL-based authorization system for Supabase.
You define **claims** (which entities each user belongs to) and
**rules** (what operations are allowed on each table). The system
generates views, triggers, and column-level security automatically.

## How it works

Claims describe relationships — which orgs a user belongs to,
which teams they're on. Rules reference those claims to control
reads, writes, updates, and deletes.

Here's a complete example with users, organizations, and documents.
Users can only see documents in orgs they belong to.

First, define the claim — the relationship between users and orgs:

```sql title="claims.sql"
SELECT auth_rules.claim('org_ids', $$
  SELECT user_id, org_id FROM org_members
$$);
```

Then, define the rules — what users can do with documents:

```sql title="rules.sql"
-- Users can read documents in their orgs
SELECT auth_rules.rule('documents',
  auth_rules.select('id', 'org_id', 'title', 'content'),
  auth_rules.eq('org_id', auth_rules.one_of('org_ids'))
);

-- Users can create documents in their orgs
SELECT auth_rules.rule('documents',
  auth_rules.insert(),
  auth_rules.eq('org_id', auth_rules.one_of('org_ids'))
);

-- Users can only delete their own documents
SELECT auth_rules.rule('documents',
  auth_rules.delete(),
  auth_rules.eq('created_by', auth_rules.user_id())
);
```

That's it. Your client code stays the same:

```typescript title="app.ts"
// Only returns documents from user's orgs
const { data } = await supabase.from('documents').select('*')

// Fails with clear error if user isn't in that org
await supabase.from('documents').insert({ org_id: 'other-org', title: 'Test' })
```

## Key features

- **Column control** — expose only the fields you specify
- **Explicit errors** — writes fail with the column that was
  rejected (for example, `org_id invalid`)
- **Auditable** — list all rules with
  `SELECT * FROM auth_rules.list_rules()`
- **No client changes** — existing Supabase queries work as-is

## Next steps

Learn more about Auth Rules:

<Cards>
  <Card title="Claims" href="/docs/auth-rules/claims" />
  <Card title="Rules" href="/docs/auth-rules/rules" />
  <Card title="Common Patterns" href="/docs/auth-rules/common-patterns" />
  <Card title="Role-Based Access" href="/docs/auth-rules/check-claim" />
  <Card title="Require on SELECT" href="/docs/auth-rules/strict-mode" />
  <Card title="File Sharing" href="/docs/auth-rules/use-cases/file-sharing" />
  <Card title="How It Works" href="/docs/auth-rules/internals" />
</Cards>
